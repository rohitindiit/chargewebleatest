import{r as o,j as e,p as x,m as c,ai as B,aq as T,ar as z,t as f,n as v,C as h,L as b,as as S,ah as D}from"./index.3f2846ac.js";import{u as A}from"./App.bf7950ee.js";import{C as H,L as W}from"./auto.123ef0e3.js";import _ from"./RecentUser.4a2dc3c6.js";import P from"./RecentStation.36309564.js";function $(t,a){if(t==null)return{};var n=K(t,a),s,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)s=i[r],!(a.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,s)||(n[s]=t[s]))}return n}function K(t,a){if(t==null)return{};var n={},s=Object.keys(t),r,i;for(i=0;i<s.length;i++)r=s[i],!(a.indexOf(r)>=0)&&(n[r]=t[r]);return n}var R=o.exports.forwardRef(function(t,a){var n=t.color,s=n===void 0?"currentColor":n,r=t.size,i=r===void 0?24:r,d=$(t,["color","size"]);return e("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:e("polyline",{points:"9 18 15 12 9 6"})})});R.propTypes={color:x.exports.string,size:x.exports.oneOfType([x.exports.string,x.exports.number])};R.displayName="ChevronRight";const k=R,U="/assets/dash-accounts.14e55a81.svg",F="/assets/dash-charging.2c8b5d62.svg",G="/assets/dash-revenue.fd50ef31.svg";const O="label";function j(t,a){typeof t=="function"?t(a):t&&(t.current=a)}function J(t,a){const n=t.options;n&&a&&Object.assign(n,a)}function I(t,a){t.labels=a}function E(t,a){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O;const s=[];t.datasets=a.map(r=>{const i=t.datasets.find(d=>d[n]===r[n]);return!i||!r.data||s.includes(i)?{...r}:(s.push(i),Object.assign(i,r),i)})}function M(t){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O;const n={labels:[],datasets:[]};return I(n,t.labels),E(n,t.datasets,a),n}function V(t,a){let{height:n=150,width:s=300,redraw:r=!1,datasetIdKey:i,type:d,data:u,options:p,plugins:y=[],fallbackContent:g,updateMode:m,...L}=t;const N=o.exports.useRef(null),l=o.exports.useRef(),C=()=>{!N.current||(l.current=new H(N.current,{type:d,data:M(u,i),options:p&&{...p},plugins:y}),j(a,l.current))},w=()=>{j(a,null),l.current&&(l.current.destroy(),l.current=null)};return o.exports.useEffect(()=>{!r&&l.current&&p&&J(l.current,p)},[r,p]),o.exports.useEffect(()=>{!r&&l.current&&I(l.current.config.data,u.labels)},[r,u.labels]),o.exports.useEffect(()=>{!r&&l.current&&u.datasets&&E(l.current.config.data,u.datasets,i)},[r,u.datasets]),o.exports.useEffect(()=>{!l.current||(r?(w(),setTimeout(C)):l.current.update(m))},[r,p,u.labels,u.datasets,m]),o.exports.useEffect(()=>{!l.current||(w(),setTimeout(C))},[d]),o.exports.useEffect(()=>(C(),()=>w()),[]),e("canvas",{...Object.assign({ref:N,role:"img",height:n,width:s},L),children:g})}const q=o.exports.forwardRef(V);function Q(t,a){return H.register(a),o.exports.forwardRef((n,s)=>e(q,{...Object.assign({},n,{ref:s,type:t})}))}const Y=Q("line",W),X=({labelColor:t,gridLineColor:a,warningColorShade:n,lineChartDanger:s,lineChartPrimary:r})=>{const[i,d]=o.exports.useState("daily");return c(B,{children:[e(T,{className:"d-flex justify-content-end",children:c(z,{className:"mt-md-0 mt-1",children:[e(f,{active:i==="daily",outline:!0,onClick:()=>d("daily"),children:"Daily"}),e(f,{active:i==="monthly",outline:!0,onClick:()=>d("monthly"),children:"Monthly"}),e(f,{active:i==="yearly",outline:!0,onClick:()=>d("yearly"),children:"Yearly"})]})}),e("div",{style:{height:"450px"},children:e(Y,{data:{labels:[0,10,20,30,40,50,60,70,80,90,100,110,120,130,140],datasets:[{data:[80,150,180,270,210,160,160,202,265,210,270,255,290,360,375],fill:!1,tension:.5,pointRadius:1,label:"Users",pointHoverRadius:5,pointStyle:"circle",pointHoverBorderWidth:5,borderJoinStyle:"round",pointBorderColor:"#347AEB",pointBackgroundColor:"white",pointBorderWidth:2,pointRadius:10,pointHitRadius:10,borderColor:s,pointBorderColor:s,backgroundColor:s,pointHoverBackgroundColor:s},{data:[80,125,105,130,215,195,140,160,230,300,220,170,210,200,280],fill:!1,tension:.5,label:"Charging Stations",pointRadius:1,pointHoverRadius:5,pointStyle:"circle",pointHoverBorderWidth:5,borderJoinStyle:"round",pointBorderColor:"#347AEB",pointBackgroundColor:"white",pointBorderWidth:2,pointRadius:10,pointHitRadius:10,borderColor:r,pointBorderColor:r,backgroundColor:r,pointHoverBackgroundColor:r},{data:[80,99,82,90,115,115,74,75,130,155,125,90,140,130,180],fill:!1,tension:.5,label:"Revenue",pointRadius:1,pointHoverRadius:5,pointStyle:"circle",pointHoverBorderWidth:5,borderJoinStyle:"round",pointBorderColor:"#347AEB",pointBackgroundColor:"white",pointBorderWidth:2,pointRadius:10,pointHitRadius:10,borderColor:n,backgroundColor:n,pointBorderColor:n,pointHoverBackgroundColor:n}]},options:{responsive:!0,backgroundColor:!1,maintainAspectRatio:!1,scales:{x:{ticks:{color:t},grid:{borderColor:a,color:a}},y:{min:0,max:400,scaleLabel:{display:!0},ticks:{stepSize:100,color:t},grid:{borderColor:a,color:a}}},plugins:{legend:{align:"start",position:"top",labels:{boxWidth:10,marginBottom:25,color:t,usePointStyle:!0}}}},height:450,plugins:[{beforeInit(g){g.legend.afterFit=function(){this.height+=50}}}]})})]})},Z=()=>{const[t,a]=o.exports.useState([]),n=async s=>{try{const i=await(await fetch(s)).json();console.log(t),a(i)}catch(r){console.log(r)}};return o.exports.useEffect(()=>{n("https://api.chargeasy.org:3001/adminHome")},[]),c(v,{className:"match-height",children:[e(h,{lg:"4",sm:"6",children:e("div",{className:"card br-10 stats-box",children:e("div",{className:"card-body pe-1",children:c("div",{className:"d-flex justify-content-between align-items-center",children:[c("div",{className:"d-flex align-items-center",children:[e("div",{className:"avatar avatar-stats wh-80 m-0 me-1 bg-light-primary d-flex justify-content-center align-items-center",children:e("div",{className:"avatar-content ",children:e("img",{className:"borderad-none rounded-0",src:U,width:38})})}),c("div",{children:[t.user&&t.user.count!==void 0?e("h3",{className:"mb-10",children:t.user.count}):e("p",{children:"Loading..."}),e("p",{className:"card-text",children:"Users"})]})]}),e(b,{children:e(k,{size:25,color:"#09c95f"})})]})})})}),e(h,{lg:"4",sm:"6",children:e("div",{className:"card br-10 stats-box",children:e("div",{className:"card-body pe-1",children:c("div",{className:"d-flex justify-content-between align-items-center",children:[c("div",{className:"d-flex align-items-center",children:[e("div",{className:"avatar avatar-stats wh-80 m-0 me-1 bg-light-primary d-flex justify-content-center align-items-center",children:e("div",{className:"avatar-content ",children:e("img",{className:"borderad-none rounded-0",src:F,width:38})})}),c("div",{children:[t.station&&t.station.count!==void 0?e("h3",{className:"mb-10",children:t.station.count}):e("p",{children:"Loging"}),e("p",{className:"card-text",children:"Charging Stations"})]})]}),e(b,{children:e(k,{size:25,color:"#09c95f"})})]})})})}),e(h,{lg:"4",sm:"6",children:e("div",{className:"card br-10 stats-box",children:e("div",{className:"card-body pe-1",children:c("div",{className:"d-flex justify-content-between align-items-center",children:[c("div",{className:"d-flex align-items-center",children:[e("div",{className:"avatar avatar-stats wh-80 m-0 me-1 bg-light-primary d-flex justify-content-center align-items-center",children:e("div",{className:"avatar-content ",children:e("img",{className:"borderad-none rounded-0",src:G,width:38})})}),c("div",{children:[t.revenue&&t.revenue.totalPrice!==void 0?c("h3",{className:"mb-10",children:["$",t.revenue.totalPrice]}):e("p",{children:"Loding"}),e("p",{className:"card-text",children:"Revenue"})]})]}),e(b,{children:e(k,{size:25,color:"#09c95f"})})]})})})})]})},ee=()=>{o.exports.useContext(S);const{skin:t}=A();return e(v,{children:e(h,{sm:"12",children:e("div",{className:"card",children:e("div",{className:"card-body",children:e(X,{labelColor:t==="dark"?"#b4b7bd":"#6e6b7b",tooltipShadow:"rgba(0, 0, 0, 0.25)",gridLineColor:"rgba(200, 200, 200, 0.2)",lineChartDanger:"#ff4961",lineChartPrimary:"#666ee8",warningColorShade:"#ffbd1f"})})})})})},te=()=>{const[t,a]=o.exports.useState([]),n=async s=>{try{const i=await(await fetch(s)).json();a(i.checkInlist)}catch(r){console.log(r)}};return o.exports.useEffect(()=>{n("https://api.chargeasy.org:3001/adminHome")},[]),e(h,{xs:"12",children:e("div",{className:"card",children:c("div",{className:"card-body",children:[e(v,{className:"mb-2",children:e(h,{xl:"6",md:"6",children:e("h4",{className:"card-title mb-1 headingcard",children:"Recent Check-Ins"})})}),e("div",{className:"table-responsive",children:c(D,{className:"react-dataTable paddingbox tablestatic",children:[e("thead",{children:c("tr",{children:[e("th",{children:"Image"}),e("th",{children:"Name"}),e("th",{children:"Check-in Time"}),e("th",{children:"Phone No."}),e("th",{children:"Status"})]})}),e("tbody",{children:t.map((s,r)=>r<5&&c("tr",{children:[e("td",{children:s.stationPic?e("img",{className:"table_img rounded-circle img-thumbnail",src:`https://chargeeasy.s3.us-east-2.amazonaws.com/${s.stationPic}`}):e("img",{className:"table_img rounded-circle img-thumbnail",src:"https://t4.ftcdn.net/jpg/04/73/25/49/360_F_473254957_bxG9yf4ly7OBO5I0O5KABlN930GwaMQz.jpg"})}),e("td",{children:s.fullName}),e("td",{children:s.startTime}),e("td",{children:s.phone_number}),e("td",{children:e("span",{className:"Active badge",children:"Active"})})]},r))})]})})]})})})},oe=()=>{o.exports.useContext(S),A();const[t,a]=o.exports.useState([]),[n,s]=o.exports.useState([]),[r,i]=o.exports.useState([]),[d,u]=o.exports.useState([]),p=async y=>{try{const m=await(await fetch(y)).json();a(m),s(m.user.user),i(m.station.station),u(m.checkInlist)}catch(g){console.log(g)}};return o.exports.useEffect(()=>{p("https://api.chargeasy.org:3001/adminHome")},[]),c(B,{children:[e(Z,{}),e(ee,{}),e(h,{xs:"12",children:e("div",{className:"card",children:c("div",{className:"card-body",children:[c(v,{className:"mb-2",children:[e(h,{xl:"6",md:"6",children:e("h4",{className:"card-title mb-1 headingcard",children:"Recent Users"})}),e(h,{xl:"6",md:"6",className:"text-end",children:e(b,{to:"/pages/users",children:e(f,{className:"viewall_btn",children:"View All"})})})]}),e(_,{})]})})}),e(h,{xs:"12",children:e("div",{className:"card",children:e("div",{className:"card-body",children:c(v,{className:"mb-2",children:[e(h,{xl:"6",md:"6",children:e("h4",{className:"card-title mb-1 headingcard",children:"Recent Charging Stations"})}),e(h,{xl:"6",md:"6",className:"text-end",children:e(b,{to:"/pages/charging-stations",children:e(f,{className:"viewall_btn",children:"View All"})})})]})})})}),e(P,{}),e(te,{})]})};export{oe as default};
