import{r as s,q as W,m as t,s as J,n as f,j as e,C as r,L as K,t as g,a9 as l,a8 as M,an as o,aa as c,y as Q,ao as X}from"./index.3f2846ac.js";import{A as Y}from"./App.bf7950ee.js";import{$ as S}from"./jquery.2a5dab83.js";import{E as Z}from"./edit.bfa60e62.js";const i={container:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",paddingTop:50},preview:{marginTop:50,display:"flex",flexDirection:"column"},image:{maxWidth:"100%",maxHeight:320},delete:{cursor:"pointer",padding:15,background:"red",color:"white",border:"none"}},re=()=>{const[m,k]=s.exports.useState({}),[d,p]=s.exports.useState(),[I,U]=s.exports.useState(""),[D,j]=s.exports.useState(""),[h,u]=s.exports.useState(),[R,b]=s.exports.useState();s.exports.useState("1");const{id:v}=W(),F=a=>{a.target.files&&a.target.files.length>0&&(b(URL.createObjectURL(a.target.files[0])),S("#before_chnage").css("display","none"),S("#after_chnage").css("display","block"))},L=a=>{a.target.files&&a.target.files.length>0&&(U(a.target.files[0]),p(URL.createObjectURL(a.target.files[0])))},B=()=>{p()},E=a=>{a.target.files&&a.target.files.length>0&&(j(a.target.files[0]),u(URL.createObjectURL(a.target.files[0])))},T=()=>{u()},x=async()=>{try{const a=await Q("adminViewuser?userId="+v);k(a.data[0]),y(a.data[0].fullName),N(a.data[0].email),w(a.data[0].phone_number),C(a.data[0].account_status),b(`https://chargeeasy.s3.us-east-2.amazonaws.com/${a.data[0].profilePic}`),p(`https://chargeeasy.s3.us-east-2.amazonaws.com/${a.data[0].idProofFront}`),u(`https://chargeeasy.s3.us-east-2.amazonaws.com/${a.data[0].idProofBack}`)}catch(a){console.log(a)}};s.exports.useEffect(()=>{x()},[]);const[_,y]=s.exports.useState(m.fullName),[O,N]=s.exports.useState(m.email),[$,w]=s.exports.useState(m.phone_number),[z,C]=s.exports.useState(m.account_status),[A,q]=s.exports.useState(""),[G,H]=s.exports.useState(""),V=a=>{a.preventDefault();let n=new FormData;n.append("fullName",a.target.fname.value),n.append("email",a.target.email.value),n.append("phone_number",a.target.phone.value),n.append("password",a.target.status.value),n.append("account_status",a.target.password.value),n.append("cover",I),n.append("coverPic",D),n.append("userId",v),X("adminuserupdate",n,{headers:{"Content-Type":"multipart/form-data"}}).then(P=>{x()}).catch(P=>{console.log(P)})};return t(J.Fragment,{children:[t(f,{className:"mb-2",children:[e(r,{xl:"6",md:"6",children:e("h4",{className:"card-title mb-1 headingcard",children:"Edit User"})}),e(r,{xl:"6",md:"6",className:"text-end",children:e(K,{to:"/pages/users",children:e(g,{className:"btn-add",children:"Back To Users"})})})]}),t(f,{children:[e(r,{sm:"4",children:t("div",{className:"user-avatar-section d-flex flex-column align-items-center justify-content-center",children:[e("div",{className:"d-flex flex-column mb-1 align-items-center justify-content-center",children:e(Y,{className:"useravatar1",img:R})}),t(g.Ripple,{id:"change-img",tag:l,outline:!0,className:"mb-0",color:"primary",children:[e("span",{className:"d-none d-sm-block",children:"Update Picture"}),e("span",{className:"d-block d-sm-none",children:e(Z,{size:14})}),e("input",{accept:"image/*",type:"file",onChange:F})]})]})}),e(r,{sm:"8",children:e("div",{class:"card",children:e("div",{class:"card-body",children:e(M,{onSubmit:V,children:t(f,{children:[e(r,{md:"6",sm:"12",children:t(o,{className:"form-group",children:[e(l,{className:"form-label",for:"fname",children:"Full Name"}),e(c,{type:"text",id:"fname",name:"fname",value:_,onChange:a=>y(a.target.value),placeholder:"Full Name"})]})}),e(r,{md:"6",sm:"12",children:t(o,{className:"form-group",children:[e(l,{className:"form-label",for:"email",children:"Email (Username)"}),e(c,{type:"email",id:"email",name:"email",value:O,onChange:a=>N(a.target.value),placeholder:"Email (Username)"})]})}),e(r,{md:"6",sm:"12",children:t(o,{className:"form-group",children:[e(l,{className:"form-label",for:"phone",children:"Phone No."}),e(c,{type:"text",id:"phone",name:"phone",value:$,onChange:a=>w(a.target.value),placeholder:"Phone No."})]})}),e(r,{md:"6",sm:"12",children:t(o,{className:"form-group",children:[e(l,{className:"form-label",for:"phone",children:"Status"}),t(c,{type:"select",name:"status",id:"status",value:z,onChange:a=>C(a.target.value),children:[e("option",{value:"select",children:"Select Status"}),e("option",{value:"Active",children:"Active"}),e("option",{value:"Declined",children:"Inactive"}),e("option",{value:"Pending",children:"Pending"})]})]})}),e(r,{md:"6",sm:"12",children:t(o,{className:"form-group",children:[e(l,{className:"form-label",for:"password",children:"Password"}),e(c,{type:"text",id:"password",name:"password",value:G,onChange:a=>H(a.target.value),placeholder:"Password"})]})}),e(r,{md:"6",sm:"12",children:t(o,{className:"form-group",children:[e(l,{className:"form-label",for:"confirmpassword",children:"Confirm Password"}),e(c,{type:"text",id:"confirmpassword",name:"confirmpassword",value:A,onChange:a=>q(a.target.value),placeholder:"Confirm Password"})]})}),e(r,{md:"6",sm:"6",children:t(o,{className:"form-group",children:[e(l,{className:"form-label",for:"confirmpassword",children:"ID Proof Front"}),e("br",{}),!d&&e("input",{name:"front",accept:"image/*",type:"file",onChange:L}),d&&t("div",{style:i.preview,children:[e("img",{src:d,style:i.image,alt:"Thumb"}),e("button",{onClick:B,style:i.delete,children:"Remove This Image"})]})]})}),e(r,{md:"6",sm:"6",children:t(o,{className:"form-group",children:[e(l,{className:"form-label",children:"ID Proof Back"}),e("br",{}),!h&&e("input",{name:"back",accept:"image/*",type:"file",onChange:E}),h&&t("div",{style:i.preview,children:[e("img",{src:h,style:i.image,alt:"Thumb"}),e("button",{onClick:T,style:i.delete,children:"Remove This Image"})]})]})}),e(r,{className:"d-flex flex-sm-row flex-column mt-2 ",sm:"12",children:e(g.Ripple,{className:"minwidth133 btnprimary",type:"submit",color:"primary",children:"Update"})})]})})})})})]})]})};export{re as default};
